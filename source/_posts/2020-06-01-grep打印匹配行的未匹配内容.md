---
title: grep打印匹配行的未匹配内容
date: 2020-06-01 18:47:40
tags:
- grep
- sed
- Linux
categories:
- code snippet
---

本文记录了作者使用`grep`和`sed`命令来实现，打印`grep`匹配行中的未匹配内容的功能的方法，简单来说：

1. 先使用`grep <pattern>`提取出匹配行
2. 再使用`sed -e 's/<pattern>//g'`将匹配内容消除，即可得到未匹配内容

<!-- more -->

## 场景与方案

使用`grep`时，我们可以用`grep <pattern>`来打印出匹配行，可以使用`grep -o <pattern>`来打印出匹配行中的匹配内容，但是如果希望能够实现“反选”，也就是打印出匹配行中的费匹配内容，应该怎么做呢？

单纯的`grep`命令没有提供这种机制的支持，但是同时使用`grep`和`sed`命令就可以实现

```bash
> echo "matched not\nmat" | grep "matched" | sed "s/matched//g"
 not
```

首先，我们使用`grep <pattern>`打印出匹配行，而后，使用`sed "s/<pattern>//g"`将匹配行中的匹配内容替换为空字符串，就消除了匹配内容，留下了非匹配内容
